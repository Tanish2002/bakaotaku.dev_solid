import { Component, createEffect, JSX } from "solid-js";
import { useMousePosition } from "@solid-primitives/mouse";
import cursorStore from "~/store/cursor";

const SvgCursor: Component<JSX.IntrinsicElements["svg"]> = (props) => {
  const pos = useMousePosition();
  const [hover, _] = cursorStore;
  // createEffect(() => {
  //   console.log(pos.x, pos.y);
  // });
  return (
    <svg
      width="185"
      height="184"
      viewBox="0 0 185 184"
      xmlns="http://www.w3.org/2000/svg"
      style={{ left: `${pos.x - 35}px`, top: `${pos.y - 35}px` }}
      {...props}
    >
      <circle cx="50%" cy="50%" r="12">
        <animate
          attributeName="r"
          begin="0s"
          dur="1s"
          repeatCount="indefinite"
          values="9;12;9"
        />
      </circle>
      <g
        id="text"
        style={{ opacity: hover() ? 1 : 0 }}
        class="transition-opacity"
      >
        <path d="m73.525 155.842 3.038-2.095 7.288 1.339 2.066 3.034-2.804 15.254-3.01 2.101-7.287-1.34-2.095-3.039.39-2.124 3.464-2.414-.933 5.075 6.55 1.204 2.804-15.254-6.55-1.204-.396 2.154-3.458 2.384.933-5.075Zm-19.003-12.085 10.96 6.214-10.222 18.034-2.584-1.465 8.936-15.763-5.794-3.285-1.272 2.245-4.034 1.093 4.01-7.073Zm-8.67-8.08 2.093 2.107-14.71 14.607-2.093-2.108 14.71-14.606ZM30.871 118.23l3.551 1.008 3.609 6.472-1.023 3.525-13.547 7.553-3.536-.982-3.608-6.472 1.008-3.551 1.887-1.052 4.066 1.133-4.507 2.513 3.244 5.817 13.546-7.553-3.243-5.817-1.913 1.066-4.04-1.147 4.506-2.513Zm-2.739-22.688.472 2.932-10.248 1.649 1.115 6.931 10.248-1.649.472 2.932-20.466 3.294-.472-2.932 9.744-1.568-7.485-5.542-3.318.534-.471-2.932 3.618-.552 4.592 3.424.385-.062-.3-1.866 2.133-2.987 9.981-1.606Zm17.433-48.244-1.749 2.4-13.117-9.558-.384-2.58-1.43 1.963 3.88 7.765-1.271 1.746L23 47.597l-1.413 1.94 2.574-.426 13.117 9.558-1.75 2.4L18.8 48.88l3.127-4.292 7.324 1.514.212-.291-3.649-6.557 3.022-4.146 16.73 12.191Zm16.657-12.179-8.676 5.644-8.49-13.051.797-3.56-2.49 1.619-1.423-2.188 8.977-5.84 1.423 2.187-6.186 4.025 4.025 6.186.625-3.055 4.35-2.83 1.407 2.162-6.186 4.025 4.237 6.513 6.186-4.025 1.424 2.188Zm23.95-6.879-3.308.377-.379-3.308 3.309-.378.378 3.308Zm35.878 3.871-3.369 1.51-6.923-2.64-1.481-3.359 5.526-14.492 3.34-1.52 6.924 2.64 1.509 3.37-.77 2.017-3.844 1.745 1.839-4.821-6.223-2.373-5.526 14.492 6.223 2.373.78-2.046 3.833-1.717-1.838 4.821Zm16.494 15.333-9.652-8.1 13.327-15.879 2.275 1.91-11.649 13.88 5.102 4.281 1.658-1.976 4.165-.343-5.226 6.227Zm7.059 9.52-1.676-2.452 17.117-11.694 1.675 2.452-17.116 11.694Zm11.565 19.876-3.309-1.636-2.374-7.02 1.646-3.28 14.692-4.969 3.299 1.608 2.375 7.02-1.637 3.308-2.046.692-3.793-1.852 4.888-1.654-2.134-6.309-14.692 4.97 2.133 6.309 2.075-.702 3.765 1.862-4.888 1.653Zm-1.424 22.808.068-2.969 10.377.239.161-7.019-10.377-.238.068-2.97 20.725.477-.068 2.969-9.868-.227 6.356 6.808 3.359.077-.068 2.97-3.659-.115-3.894-4.2-.39-.01-.044 1.89-2.639 2.55-10.107-.231ZM139.34 135.52l1.713-2.426 13.257 9.363.422 2.575 1.402-1.985-3.996-7.707 1.246-1.764 8.513 1.311 1.384-1.96-2.567.463-13.257-9.362 1.713-2.426 16.908 11.941-3.063 4.338-7.345-1.405-.208.294 3.745 6.502-2.959 4.19-16.908-11.942Zm-16.475 12.425 8.591-5.772 8.684 12.924-.745 3.572 2.465-1.657 1.456 2.167-8.89 5.973-1.455-2.167 6.125-4.115-4.115-6.126-.58 3.064-4.308 2.894-1.439-2.141 6.126-4.116-4.333-6.45-6.126 4.116-1.456-2.166Zm-23.845 7.233 3.302-.427.427 3.303-3.302.427-.428-3.303Z">
          <animateTransform
            attributeName="transform"
            attributeType="XML"
            type="rotate"
            from="0 92.5 92"
            to="360 92.5 92"
            begin="0s"
            dur="3s"
            repeatCount="indefinite"
          />
        </path>
      </g>
    </svg>
  );
};
export default SvgCursor;
